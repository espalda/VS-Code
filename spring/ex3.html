아이디 중복 검사 - ajax 이용


1. pom.xml 에 의존성 추가 3가지

텍스트 추가
<!-- json 사용 라이브러리 -->
<dependency>
    <groupId>org.codehaus.jackson</groupId>
    <artifactId>jackson-mapper-asl</artifactId>
    <version>1.9.13</version>
</dependency>
<dependency>
    <groupId>com.fasterxml.jackson.core</groupId>
    <artifactId>jackson-databind</artifactId>
    <version>2.8.7</version>
</dependency>
내용을 입력하세요.
텍스트 추가
2. Controller 추가

텍스트 추가
@RequestMapping("/dup")
@ResponseBody
public Map<Object, Object> idcheck(@RequestBody String id){
    Map<Object, Object> map = new HashMap<Object, Object>();
    코드 추가 작업
    return map;
}
내용을 입력하세요.
텍스트 추가
변수 id에 저장된 아이디가 회원 아이디인지 아닌지 확인하여 isMember변수에 담아 보낸다.

boolean isMember = memberService.isMember(id);

map.put("isMember", isMember);


3. signup.jsp에 ajax 코드 추가

텍스트 추가
$('btn').click(function(){
    $.ajax({
        async:true,
        type:'POST',
        data:id,
        url:"test",
        dataType:"json",
        contentType:"application/json; charset=UTF-8",
        success : function(aaa){
            코드 추가 작업
        }
    });
})
내용을 입력하세요.
텍스트 추가
success : function(aaa){

if(!aaa.isMember){

alert('회원 가입이 가능한 아이디입니다.'); //회원이 아니면 회원가입이 가능한 아이디 입니다 라고 출력

isCheck = true;}

else{

alert('사용할수 없는 아이디 입니다.')

isCheck = false;}

}

});

